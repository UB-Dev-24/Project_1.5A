(()=>{const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from((t||document).querySelectorAll(e));function n(){const t=e(".nav-links");t&&t.classList.toggle("show")}window.toggleMenu=n;function o(){t(".nav-links a").forEach((t=>{t.addEventListener("click",(()=>{const t=e(".nav-links");t&&t.classList.contains("show")&&t.classList.remove("show")}))}))}function c(){const n=t(".nav-links a"),o=location.pathname.split("/").pop()||"index.html";n.forEach((e=>{const t=(e.getAttribute("href")||"").split("#")[0].split("/").pop();t&&(t===o||"index.html"===t&&""===o?e.classList.add("active"):e.classList.remove("active"))}))}function s(){document.addEventListener("click",(t=>{if(!t.target.matches||!t.target.matches('a[href^="#"]'))return;const n=t.target.getAttribute("href");if(!n||1===n.length)return;const o=document.querySelector(n);o&&(t.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}),(()=>{const t=e(".nav-links");t&&t.classList.contains("show")&&t.classList.remove("show")})())}))}function a(){const n=t("img[data-src]");if(!n.length)return;"IntersectionObserver"in window?(()=>{const t=new IntersectionObserver(((n,o)=>{n.forEach((n=>{if(!n.isIntersecting)return;const c=n.target,s=c.dataset.src;s&&(c.src=s,c.removeAttribute("data-src"),c.addEventListener("load",(()=>c.classList.add("loaded")))),o.unobserve(c)}))}),{rootMargin:"200px 0px"});n.forEach((e=>t.observe(e)))} )():n.forEach((e=>{const t=e.dataset.src;t&&(e.src=t)}))}function r(){const n=t(".fade-up");if(!n.length)return;"IntersectionObserver"in window?(()=>{const t=new IntersectionObserver(((n,o)=>{n.forEach((n=>{n.isIntersecting&&(n.target.classList.add("in"),o.unobserve(n.target))}))}),{threshold:.12});n.forEach((e=>t.observe(e)))} )():n.forEach((e=>e.classList.add("in")))}function i(){const n=e("#contact-form");if(n){let t=e("#form-status")||document.createElement("div");n.contains(t)||(t.id="form-status");n.addEventListener("submit",(async e=>{e.preventDefault(),t.textContent="";const o=new FormData(n),c=(o.get("name")||"").trim(),s=(o.get("email")||"").trim(),a=(o.get("message")||"").trim();if(!c||c.length<2)return void(t.textContent="Please enter your name (2+ chars).");if(!s||!/^\S+@\S+\.\S+$/.test(s))return void(t.textContent="Please enter a valid email.");if(!a||a.length<10)return void(t.textContent="Message should be 10+ characters.");t.textContent="Sending…";try{await new Promise((e=>setTimeout(e,900))),t.textContent="Thanks — your message was sent (demo).",n.reset()}catch(e){t.textContent="Something went wrong — please try again later."}}));return}const o=e(".contact-form");if(!o)return;const c=Array.from(o.querySelectorAll("input, textarea")),s=o.querySelector("button")||o.querySelector('input[type="submit"]');if(!s||!c.length)return;let a=o.querySelector(".form-status");a||(a=document.createElement("div"),a.className="form-status",o.appendChild(a)),s.addEventListener("click",(async e=>{e.preventDefault(),a.textContent="";const t=e=>e&&e.value?e.value.trim():"",n=t(c[0]),r=t(c[1])||"",i=c[2]&&c[2].value?c[2].value.trim():"";if(!n||n.length<2)return void(a.textContent="Please enter your name (2+ chars).");if(!r||!/^\S+@\S+\.\S+$/.test(r))return void(a.textContent="Please enter a valid email.");if(!i||i.length<10)return void(a.textContent="Message should be 10+ characters.");a.textContent="Sending…";try{await new Promise((e=>setTimeout(e,800))),a.textContent="Thanks — your message was sent (demo).",c.forEach((e=>{"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase()||(e.value="")}))}catch(e){a.textContent="Something went wrong — please try again later."}}))}function l(){document.addEventListener("keydown",(t=>{"Escape"===t.key&&(()=>{const t=e(".nav-links");t&&t.classList.contains("show")&&t.classList.remove("show")})()}))}document.addEventListener("DOMContentLoaded",(()=>{try{o(),c(),s(),a(),r(),i(),l()}catch(e){console.error("Initialization error in script.js:",e)}})),window.__siteUtils={toggleMenu:n,setActiveNav:c,lazyLoadImages:a,revealOnScroll:r}})();